var qt=Object.defineProperty;var Gt=(e,t,n)=>t in e?qt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Oe=(e,t,n)=>(Gt(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function Jt(e,t){return t.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(o){if(o!=="default"&&!(o in e)){var r=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(e,o,r.get?r:{enumerable:!0,get:function(){return n[o]}})}})}),e}function ae(){return ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ae.apply(this,arguments)}function xe(e,t){if(e==null)return{};var n,o,r={},s=Object.keys(e);for(o=0;o<s.length;o++)t.indexOf(n=s[o])>=0||(r[n]=e[n]);return r}class _t{constructor(){this.items=void 0,this.items=[]}toArray(){return[...this.items]}push(t){this.items.push(t)}pop(){return this.items.pop()}peek(){return this.items[this.items.length-1]}size(){return this.items.length}isEmpty(){return this.items.length===0}}const pe=(e,t)=>{const n="DOMNodeInserted",o=r=>{const s=r.relatedNode;s&&s===e.parentNode&&t(s,e)};return e.addEventListener(n,o),()=>e.removeEventListener(n,o)};function Xt(e,t){const n=Object.create(null),o=e.split(",");for(let r=0;r<o.length;r++)n[o[r]]=!0;return t?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const Yt=()=>{},ze=Object.assign,Zt=Object.prototype.hasOwnProperty,he=(e,t)=>Zt.call(e,t),A=Array.isArray,se=e=>gt(e)==="[object Map]",Pe=e=>typeof e=="symbol",me=e=>e!==null&&typeof e=="object",Qt=Object.prototype.toString,gt=e=>Qt.call(e),en=e=>gt(e).slice(8,-1),We=e=>typeof e=="string"&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,$e=(e,t)=>!Object.is(e,t);let b;class Xe{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=b,!t&&b&&(this.index=(b.scopes||(b.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=b;try{return b=this,t()}finally{b=n}}}on(){b=this}off(){b=this.parent}stop(t){if(this._active){let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.scopes)for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function yt(e,t=b){t&&t.active&&t.effects.push(e)}const Be=e=>{const t=new Set(e);return t.w=0,t.n=0,t},wt=e=>(e.w&T)>0,bt=e=>(e.n&T)>0,le=new WeakMap;let D=0,T=1;const Se=30;let j;const N=Symbol(""),Ce=Symbol("");class ve{constructor(t,n=null,o){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,yt(this,o)}run(){if(!this.active)return this.fn();let t=j,n=S;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=j,j=this,S=!0,T=1<<++D,D<=Se?(({deps:o})=>{if(o.length)for(let r=0;r<o.length;r++)o[r].w|=T})(this):Ye(this),this.fn()}finally{D<=Se&&(o=>{const{deps:r}=o;if(r.length){let s=0;for(let i=0;i<r.length;i++){const a=r[i];wt(a)&&!bt(a)?a.delete(o):r[s++]=a,a.w&=~T,a.n&=~T}r.length=s}})(this),T=1<<--D,j=this.parent,S=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){j===this?this.deferStop=!0:this.active&&(Ye(this),this.onStop&&this.onStop(),this.active=!1)}}function Ye(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function kt(e,t){e.effect&&(e=e.effect.fn);const n=new ve(e);t&&(ze(n,t),t.scope&&yt(n,t.scope)),t&&t.lazy||n.run();const o=n.run.bind(n);return o.effect=n,o}let S=!0;const Ie=[];function Fe(){Ie.push(S),S=!1}function Rt(){Ie.push(S),S=!0}function _e(){const e=Ie.pop();S=e===void 0||e}function x(e,t,n){if(S&&j){let o=le.get(e);o||le.set(e,o=new Map);let r=o.get(n);r||o.set(n,r=Be()),Ot(r)}}function Ot(e,t){let n=!1;D<=Se?bt(e)||(e.n|=T,n=!wt(e)):n=!e.has(j),n&&(e.add(j),j.deps.push(e))}function M(e,t,n,o,r,s){const i=le.get(e);if(!i)return;let a=[];if(t==="clear")a=[...i.values()];else if(n==="length"&&A(e)){const c=Number(o);i.forEach((l,u)=>{(u==="length"||u>=c)&&a.push(l)})}else switch(n!==void 0&&a.push(i.get(n)),t){case"add":A(e)?We(n)&&a.push(i.get("length")):(a.push(i.get(N)),se(e)&&a.push(i.get(Ce)));break;case"delete":A(e)||(a.push(i.get(N)),se(e)&&a.push(i.get(Ce)));break;case"set":se(e)&&a.push(i.get(N))}if(a.length===1)a[0]&&Le(a[0]);else{const c=[];for(const l of a)l&&c.push(...l);Le(Be(c))}}function Le(e,t){const n=A(e)?e:[...e];for(const o of n)o.computed&&Ze(o);for(const o of n)o.computed||Ze(o)}function Ze(e,t){(e!==j||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const tn=Xt("__proto__,__v_isRef,__isVue"),xt=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Pe)),nn=ge(),on=ge(!1,!0),rn=ge(!0),sn=ge(!0,!0),Qe=cn();function cn(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const o=m(this);for(let s=0,i=this.length;s<i;s++)x(o,0,s+"");const r=o[t](...n);return r===-1||r===!1?o[t](...n.map(m)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Fe();const o=m(this)[t].apply(this,n);return _e(),o}}),e}function an(e){const t=m(this);return x(t,0,e),t.hasOwnProperty(e)}function ge(e=!1,t=!1){return function(n,o,r){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&r===(e?t?Mt:At:t?Lt:Ct).get(n))return n;const s=A(n);if(!e){if(s&&he(Qe,o))return Reflect.get(Qe,o,r);if(o==="hasOwnProperty")return an}const i=Reflect.get(n,o,r);return(Pe(o)?xt.has(o):tn(o))?i:(e||x(n,0,o),t?i:k(i)?s&&We(o)?i:i.value:me(i)?e?Ve(i):De(i):i)}}function jt(e=!1){return function(t,n,o,r){let s=t[n];if($(s)&&k(s)&&!k(o))return!1;if(!e&&(Ke(o)||$(o)||(s=m(s),o=m(o)),!A(t)&&k(s)&&!k(o)))return s.value=o,!0;const i=A(t)&&We(n)?Number(n)<t.length:he(t,n),a=Reflect.set(t,n,o,r);return t===m(r)&&(i?$e(o,s)&&M(t,"set",n,o):M(t,"add",n,o)),a}}const Et={get:nn,set:jt(),deleteProperty:function(e,t){const n=he(e,t),o=Reflect.deleteProperty(e,t);return o&&n&&M(e,"delete",t,void 0),o},has:function(e,t){const n=Reflect.has(e,t);return Pe(t)&&xt.has(t)||x(e,0,t),n},ownKeys:function(e){return x(e,0,A(e)?"length":N),Reflect.ownKeys(e)}},St={get:rn,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},ln=ze({},Et,{get:on,set:jt(!0)}),un=ze({},St,{get:sn}),He=e=>e,ye=e=>Reflect.getPrototypeOf(e);function Q(e,t,n=!1,o=!1){const r=m(e=e.__v_raw),s=m(t);n||(t!==s&&x(r,0,t),x(r,0,s));const{has:i}=ye(r),a=o?He:n?qe:q;return i.call(r,t)?a(e.get(t)):i.call(r,s)?a(e.get(s)):void(e!==r&&e.get(t))}function ee(e,t=!1){const n=this.__v_raw,o=m(n),r=m(e);return t||(e!==r&&x(o,0,e),x(o,0,r)),e===r?n.has(e):n.has(e)||n.has(r)}function te(e,t=!1){return e=e.__v_raw,!t&&x(m(e),0,N),Reflect.get(e,"size",e)}function et(e){e=m(e);const t=m(this);return ye(t).has.call(t,e)||(t.add(e),M(t,"add",e,e)),this}function tt(e,t){t=m(t);const n=m(this),{has:o,get:r}=ye(n);let s=o.call(n,e);s||(e=m(e),s=o.call(n,e));const i=r.call(n,e);return n.set(e,t),s?$e(t,i)&&M(n,"set",e,t):M(n,"add",e,t),this}function nt(e){const t=m(this),{has:n,get:o}=ye(t);let r=n.call(t,e);r||(e=m(e),r=n.call(t,e)),o&&o.call(t,e);const s=t.delete(e);return r&&M(t,"delete",e,void 0),s}function ot(){const e=m(this),t=e.size!==0,n=e.clear();return t&&M(e,"clear",void 0,void 0),n}function ne(e,t){return function(n,o){const r=this,s=r.__v_raw,i=m(s),a=t?He:e?qe:q;return!e&&x(i,0,N),s.forEach((c,l)=>n.call(o,a(c),a(l),r))}}function oe(e,t,n){return function(...o){const r=this.__v_raw,s=m(r),i=se(s),a=e==="entries"||e===Symbol.iterator&&i,c=e==="keys"&&i,l=r[e](...o),u=n?He:t?qe:q;return!t&&x(s,0,c?Ce:N),{next(){const{value:h,done:v}=l.next();return v?{value:h,done:v}:{value:a?[u(h[0]),u(h[1])]:u(h),done:v}},[Symbol.iterator](){return this}}}}function U(e){return function(...t){return e!=="delete"&&this}}function fn(){const e={get(r){return Q(this,r)},get size(){return te(this)},has:ee,add:et,set:tt,delete:nt,clear:ot,forEach:ne(!1,!1)},t={get(r){return Q(this,r,!1,!0)},get size(){return te(this)},has:ee,add:et,set:tt,delete:nt,clear:ot,forEach:ne(!1,!0)},n={get(r){return Q(this,r,!0)},get size(){return te(this,!0)},has(r){return ee.call(this,r,!0)},add:U("add"),set:U("set"),delete:U("delete"),clear:U("clear"),forEach:ne(!0,!1)},o={get(r){return Q(this,r,!0,!0)},get size(){return te(this,!0)},has(r){return ee.call(this,r,!0)},add:U("add"),set:U("set"),delete:U("delete"),clear:U("clear"),forEach:ne(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=oe(r,!1,!1),n[r]=oe(r,!0,!1),t[r]=oe(r,!1,!0),o[r]=oe(r,!0,!0)}),[e,n,t,o]}const[dn,pn,hn,mn]=fn();function we(e,t){const n=t?e?mn:hn:e?pn:dn;return(o,r,s)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?o:Reflect.get(he(n,r)&&r in o?n:o,r,s)}const vn={get:we(!1,!1)},_n={get:we(!1,!0)},gn={get:we(!0,!1)},yn={get:we(!0,!0)},Ct=new WeakMap,Lt=new WeakMap,At=new WeakMap,Mt=new WeakMap;function De(e){return $(e)?e:ue(e,!1,Et,vn,Ct)}function Ve(e){return ue(e,!0,St,gn,At)}function ue(e,t,n,o,r){if(!me(e)||e.__v_raw&&(!t||!e.__v_isReactive))return e;const s=r.get(e);if(s)return s;const i=(a=e).__v_skip||!Object.isExtensible(a)?0:function(l){switch(l){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(en(a));var a;if(i===0)return e;const c=new Proxy(e,i===2?o:n);return r.set(e,c),c}function ie(e){return $(e)?ie(e.__v_raw):!(!e||!e.__v_isReactive)}function $(e){return!(!e||!e.__v_isReadonly)}function Ke(e){return!(!e||!e.__v_isShallow)}function m(e){const t=e&&e.__v_raw;return t?m(t):e}const q=e=>me(e)?De(e):e,qe=e=>me(e)?Ve(e):e;function be(e){S&&j&&Ot((e=m(e)).dep||(e.dep=Be()))}function G(e,t){const n=(e=m(e)).dep;n&&Le(n)}function k(e){return!(!e||e.__v_isRef!==!0)}function fe(e){return Tt(e,!1)}function Ut(e){return Tt(e,!0)}function Tt(e,t){return k(e)?e:new wn(e,t)}class wn{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:m(t),this._value=n?t:q(t)}get value(){return be(this),this._value}set value(t){const n=this.__v_isShallow||Ke(t)||$(t);t=n?t:m(t),$e(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:q(t),G(this))}}function B(e){return k(e)?e.value:e}const bn={get:(e,t,n)=>B(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const r=e[t];return k(r)&&!k(n)?(r.value=n,!0):Reflect.set(e,t,n,o)}};class kn{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:o}=t(()=>be(this),()=>G(this));this._get=n,this._set=o}get value(){return this._get()}set value(t){this._set(t)}}class Rn{constructor(t,n,o){this._object=t,this._key=n,this._defaultValue=o,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return function(t,n){var o;return(o=le.get(t))===null||o===void 0?void 0:o.get(n)}(m(this._object),this._key)}}function rt(e,t,n){const o=e[t];return k(o)?o:new Rn(e,t,n)}var Nt,zt;class On{constructor(t,n,o,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[Nt]=!1,this._dirty=!0,this.effect=new ve(t,()=>{this._dirty||(this._dirty=!0,G(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=o}get value(){const t=m(this);return be(t),!t._dirty&&t._cacheable||(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function xn(e,t,n=!1){let o,r;const s=typeof e=="function";return s?(o=e,r=Yt):(o=e.get,r=e.set),new On(o,r,s||!r,n)}Nt="__v_isReadonly";const jn=Promise.resolve(),ce=[];let Ae=!1;const En=()=>{for(let e=0;e<ce.length;e++)ce[e]();ce.length=0,Ae=!1};class Ge{constructor(t){let n;this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this[zt]=!0;let o=!1,r=!1;this.effect=new ve(t,s=>{if(this.dep){if(s)n=this._value,o=!0;else if(!r){const i=o?n:this._value;r=!0,o=!1,ce.push(()=>{this.effect.active&&this._get()!==i&&G(this),r=!1}),Ae||(Ae=!0,jn.then(En))}for(const i of this.dep)i.computed instanceof Ge&&i.scheduler(!0)}this._dirty=!0}),this.effect.computed=this}_get(){return this._dirty?(this._dirty=!1,this._value=this.effect.run()):this._value}get value(){return be(this),m(this)._get()}}zt="__v_isReadonly";var st,it,R={__proto__:null,EffectScope:Xe,ITERATE_KEY:N,ReactiveEffect:ve,computed:xn,customRef:function(e){return new kn(e)},deferredComputed:function(e){return new Ge(e)},effect:kt,effectScope:function(e){return new Xe(e)},enableTracking:Rt,getCurrentScope:function(){return b},isProxy:function(e){return ie(e)||$(e)},isReactive:ie,isReadonly:$,isRef:k,isShallow:Ke,markRaw:function(e){return Object.defineProperty(e,"__v_skip",{configurable:!0,enumerable:!1,value:!0}),e},onScopeDispose:function(e){b&&b.cleanups.push(e)},pauseTracking:Fe,proxyRefs:function(e){return ie(e)?e:new Proxy(e,bn)},reactive:De,readonly:Ve,ref:fe,resetTracking:_e,shallowReactive:function(e){return ue(e,!1,ln,_n,Lt)},shallowReadonly:function(e){return ue(e,!0,un,yn,Mt)},shallowRef:Ut,stop:function(e){e.effect.stop()},toRaw:m,toRef:rt,toRefs:function(e){const t=A(e)?new Array(e.length):{};for(const n in e)t[n]=rt(e,n);return t},track:x,trigger:M,triggerRef:function(e){G(e)},unref:B},Sn=(st=function(e){var t=Object.prototype.hasOwnProperty,n="~";function o(){}function r(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function s(c,l,u,h,v){if(typeof u!="function")throw new TypeError("The listener must be a function");var y=new r(u,h||c,v),_=n?n+l:l;return c._events[_]?c._events[_].fn?c._events[_]=[c._events[_],y]:c._events[_].push(y):(c._events[_]=y,c._eventsCount++),c}function i(c,l){--c._eventsCount==0?c._events=new o:delete c._events[l]}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(n=!1)),a.prototype.eventNames=function(){var c,l,u=[];if(this._eventsCount===0)return u;for(l in c=this._events)t.call(c,l)&&u.push(n?l.slice(1):l);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(c){var l=this._events[n?n+c:c];if(!l)return[];if(l.fn)return[l.fn];for(var u=0,h=l.length,v=new Array(h);u<h;u++)v[u]=l[u].fn;return v},a.prototype.listenerCount=function(c){var l=this._events[n?n+c:c];return l?l.fn?1:l.length:0},a.prototype.emit=function(c,l,u,h,v,y){var _=n?n+c:c;if(!this._events[_])return!1;var g,f,d=this._events[_],w=arguments.length;if(d.fn){switch(d.once&&this.removeListener(c,d.fn,void 0,!0),w){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,l),!0;case 3:return d.fn.call(d.context,l,u),!0;case 4:return d.fn.call(d.context,l,u,h),!0;case 5:return d.fn.call(d.context,l,u,h,v),!0;case 6:return d.fn.call(d.context,l,u,h,v,y),!0}for(f=1,g=new Array(w-1);f<w;f++)g[f-1]=arguments[f];d.fn.apply(d.context,g)}else{var E,P=d.length;for(f=0;f<P;f++)switch(d[f].once&&this.removeListener(c,d[f].fn,void 0,!0),w){case 1:d[f].fn.call(d[f].context);break;case 2:d[f].fn.call(d[f].context,l);break;case 3:d[f].fn.call(d[f].context,l,u);break;case 4:d[f].fn.call(d[f].context,l,u,h);break;default:if(!g)for(E=1,g=new Array(w-1);E<w;E++)g[E-1]=arguments[E];d[f].fn.apply(d[f].context,g)}}return!0},a.prototype.on=function(c,l,u){return s(this,c,l,u,!1)},a.prototype.once=function(c,l,u){return s(this,c,l,u,!0)},a.prototype.removeListener=function(c,l,u,h){var v=n?n+c:c;if(!this._events[v])return this;if(!l)return i(this,v),this;var y=this._events[v];if(y.fn)y.fn!==l||h&&!y.once||u&&y.context!==u||i(this,v);else{for(var _=0,g=[],f=y.length;_<f;_++)(y[_].fn!==l||h&&!y[_].once||u&&y[_].context!==u)&&g.push(y[_]);g.length?this._events[v]=g.length===1?g[0]:g:i(this,v)}return this},a.prototype.removeAllListeners=function(c){var l;return c?this._events[l=n?n+c:c]&&i(this,l):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a},st(it={exports:{}}),it.exports);let Je;const ke=(e=Je)=>{const t=new Sn;return t.__parent_source=e,t.__context={},t.on("throw",n=>e==null?void 0:e.emit("throw",n)),t};Je=ke();const z=(e,t)=>{var n;const o=kt(e,t);return(n=O.peek())==null||n.once("unmount",()=>o.effect.stop()),o},O=new _t,V=(e=t=>t)=>{const t=O.peek();if(!t)throw new Error("not found ComponentSource.");return e(t)},Pt=V,de=e=>V(t=>{const n=()=>e(t);return t.once("unmount",n),()=>t.off("unmount",n)});var C={__proto__:null,get global_source(){return Je},newComponentSource:ke,hookEffect:z,source_stack:O,useComponentSource:V,useCS:Pt,onMount:e=>V(t=>{const n=()=>e(t);return t.once("mount",n),()=>t.off("mount",n)}),onUnmount:de,onCatch:e=>V(t=>{const n=o=>e(o,t);return t.once("throw",n),()=>t.off("throw",n)})};const J=e=>{Fe();const t=e();return _e(),t},Wt=e=>{Rt();const t=e();return _e(),t},Me=(e,t,n)=>{let o;return z(()=>{const r=typeof e=="function"?e(o):B(e);J(()=>t(r,o)),o=r},n)},Ue=e=>J(()=>B(e)),ct=(...e)=>e.map(t=>B(t));var X={__proto__:null,reactivity:R,skip:J,unskip:Wt,watch:Me,untrack:Ue,computed:(e,t)=>{const n=fe();return Me(e,o=>{n.value=o},t),n},useRef:e=>[B(e),t=>e.value=t],depend:ct,unrefAll:ct,untrackAll:(...e)=>e.map(t=>Ue(t))};const{effect:$t}=R,K=e=>{var t;return e==null||(t=e.parentElement)==null?void 0:t.removeChild(e)},I={HOOK_CB:Symbol("HOOK_CB"),IS_ANCHOR:Symbol("IS_ANCHOR")},Bt=()=>{const e=document.createTextNode("");return e[I.IS_ANCHOR]=!0,e},Re=(e,t)=>{if(!e&&e!==!1&&e!==0)return null;if(k(e)||typeof e=="function"){let n=null;const o=Bt();let r=o;const s=$t(()=>{var a;n=n||((a=r)==null?void 0:a.parentElement)||null;const c=r,l=typeof e=="function"?e():e.value;r=Re(l,t)||o,r!==c&&n&&(n.insertBefore(r,c),K(c))},{lazy:!1}),i=pe(r||o,(a,c)=>{i(),n=a,r&&c!==r&&(n.insertBefore(r,c),K(c))});return t==null||t.once("unmount",()=>{s.effect.stop(),i()}),r}return e instanceof Node?e:document.createTextNode(`${e}`)};function It(e,t){var n;const o=Bt();let r=null,s=o;t.once("update_after",c=>t.emit("mount",c));const i=$t(()=>{let c;t.emit("update_before");try{O.push(t),t.emit("update"),c=Re(e(),t)||o,O.pop()}catch(l){return requestAnimationFrame(()=>{t.emit("throw",l),console.error(l)}),void t.emit("update_after",l)}r&&(r.insertBefore(c,s.parentElement===r?s:o),s[I.IS_ANCHOR]||K(s)),s=c,t.emit("update_after")},{lazy:!1}),a=pe(s,(c,l)=>{a(),r=c,o!==l&&c.insertBefore(o,l),l!==s&&(c.insertBefore(s,l),l[I.IS_ANCHOR]||K(l))});return(n=t.__parent_source)==null||n.once("update_before",()=>{var c;t.emit("unmount"),(c=t.__parent_source)==null||c.once("update_after",()=>s.remove())}),t.once("unmount",()=>{a(),i.effect.stop(),t.removeAllListeners(),K(o)}),s}function Ft(e,t={},...n){const o=e[I.HOOK_CB],r=ke(O.peek());typeof o=="function"&&o(r),r.emit("setup_before");const s=J(()=>{O.push(r);const i=e(ae({},t,{__component_source:r}),...n);return O.pop(),i});return r.emit("setup_after"),It(()=>s(),r)}function Ht(e,t={},...n){const{setup:o,render:r}=e,s=e[I.HOOK_CB],i=ke(O.peek());typeof s=="function"&&s(i),i.emit("setup_before");const a=o(ae({},t,{__component_source:i}),...n)||{};return a.__component_source=i,i.emit("setup_after"),It(()=>r(a,...n),i)}function at(e,t={},...n){Object.keys(t||{}).forEach(o=>{if(o.startsWith("__"))return;const r=t[o];switch(o){case"ref":return void(typeof r=="function"?r(e):k(r)&&(r.value=e));case"effect":return void(typeof r=="function"&&z(()=>r(e),{lazy:!1}))}if(o.startsWith("on")||typeof r!="function"){if(o.startsWith("on")&&typeof r=="function"){const s=o.slice(2).toLowerCase(),i=e["__cb_"+o];return i&&e.removeEventListener(s,i),e["__cb_"+o]=r,void e.addEventListener(s,r)}z(()=>{const s=B(t[o]);typeof s=="boolean"?s?e.setAttribute(o,""):e.removeAttribute(o):e.setAttribute(o,s)},{lazy:!1})}else z(()=>e.setAttribute(o,r()),{lazy:!1})}),J(()=>{const o=O.peek();n.map(r=>Re(r,o)).forEach(r=>r&&e.appendChild(r))})}const p=(e,t={},...n)=>{var o;return n=((o=n)==null?void 0:o.flat())||n,typeof e=="string"?function(r,s={},...i){const a=document.createElement(r);return at(a,s,...i),a}(e,t,...n):typeof e=="function"?Ft(e,t,...n):e instanceof Element?(at(e,t,...n),e):Ht(e,t,...n)};p.mount=(e,t,n,...o)=>{const r=e instanceof Node?e:document.querySelector(e);if(typeof t!="function"){if(t instanceof Node)r==null||r.appendChild(t);else if(typeof t=="object"){const s=Ht(t,n,...o);r==null||r.appendChild(s)}}else{const s=Ft(t,n,...o);s&&(r==null||r.appendChild(s))}},p.component=e=>e,p.createThrowAny=()=>{const e=O.peek();return t=>e==null?void 0:e.emit("throw",t)},p.hookComponent=(e,t)=>(e[I.HOOK_CB]=t,e);const Cn=()=>Object.create(null),Ln=new _t,An=Cn();Ln.push(An);function Te(e,t,n=!1){const o=n?`
`:" ",r=[{node:t,css:e}];let s="";for(;r.length>0;){const{node:a,css:c}=r.pop();s+=`${a} {${o}`;for(const l in c){const u=c[l];if(typeof u=="object"){const h=l.startsWith("&")?a+l.slice(1).replace(/&/g,a):a+" "+l;r.push({node:h,css:u})}else{if(typeof u=="string"&&!u.trim()||u==null)continue;s+=`${i=l,i.replace(/[A-Z]/g,h=>`-${h.toLowerCase()}`)}: ${c[l]};${o}`}}s+=`}
`}var i;return s.trim()}function Mn(e){const t=`__s_${Math.floor(Math.random()*Number.MAX_SAFE_INTEGER)}`,n=document.createElement("style");return z(()=>{const o=e();n.innerHTML=Te(o,`.${t}`)}),{dom:n,className:t}}function Un(e){const t=document.createElement("style");return z(()=>{const n=e(),o=Te(Object.fromEntries(Object.entries(n).filter(([s,i])=>typeof i!="object")),":root"),r=Object.entries(n).filter(([s,i])=>typeof i=="object").map(([s,i])=>Te(i,s)).join(`
`);t.innerHTML=`${o}
${r}`}),{dom:t}}const Tn=p.component({setup({fallbackRender:e,onError:t,render:n}){const o=O.peek();let r=fe(null);o==null||o.on("throw",i=>{i instanceof Error&&(t==null||t(i),r.value=i)});const s=fe(1);return{catchError:r,rerenderRef:s,fallbackRender:e,childrenRender:n}},render({fallbackRender:e,rerenderRef:t,catchError:n,childrenRender:o}){const r=()=>{t.value=Date.now(),n.value=null};return n.value?Wt(()=>e(n.value,r)):o()}}),lt=p.component({setup(e,t,...n){const o={anchor:document.createTextNode(""),children:[],parentNode:null},r=O.peek(),s=(i=typeof t=="function"?t:()=>[t,...n],()=>i().map(l=>Re(l,r)).filter(Boolean));var i;const a=z(()=>{const l=o.children,u=s(),{parentNode:h,anchor:v}=o;if(!h)return;const y=Math.max(u.length,l.length);for(let _=0;_<y;_++){const g=u[_],f=l[_];if(!g&&f)f.remove();else if(!f&&g)h.insertBefore(g,v);else if(f&&g){if(f===g)continue;h.replaceChild(g,f)}}o.children=u}),c=pe(o.anchor,l=>{c(),o.parentNode=l,a()});return de(c),Pt(l=>{var u;(u=l.__parent_source)==null||u.once("update_before",()=>{var h;o.children.forEach(v=>v==null?void 0:v.remove()),(h=l.__parent_source)==null||h.once("update_after",()=>{o.anchor.remove()})})}),o},render:e=>e.anchor});var Ne=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var o,r,s;if(Array.isArray(t)){if((o=t.length)!=n.length)return!1;for(r=o;r--!=0;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((o=(s=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=o;r--!=0;)if(!Object.prototype.hasOwnProperty.call(n,s[r]))return!1;for(r=o;r--!=0;){var i=s[r];if(!e(t[i],n[i]))return!1}return!0}return t!=t&&n!=n},ut=Jt({__proto__:null,default:Ne},[Ne]);const Nn=["container"],zn=["styleFn","style"],Pn=["styleFn","style"],ft=e=>e?typeof e=="function"?e:()=>e:()=>({"--required-style-function":"1"});var F={__proto__:null,ErrorBoundary:Tn,Fragment:lt,ArrayRender:({getItems:e,render:t,needUpdate:n=(o,r)=>!((ut==null?void 0:Ne)||ut)(o,r)})=>{const o=Ut([]);return Me(e,r=>{const s=Ue(o);for(let a=0;a<Math.max(s.length,r.length);a++){const c=s[a],l=r[a];if(c!==void 0&&l!==void 0){if(!c.node||n(l,c.data)){const u=t(l,a,r,c.node);c.node=u,c.data=l}}else if(c===void 0){const u=t(l,a,r);s.push({data:l,node:u})}else l===void 0&&(c.del=!0)}const i=s.filter(a=>a.del!==!0);o.value=i},{lazy:!1}),()=>p(lt,{},()=>o.value.filter(r=>!r.del).map(r=>r.node))},Portal:(e,...t)=>{let{container:n}=e,o=xe(e,Nn);const r=document.createTextNode(""),s=n||document.createElement("div");return document.body.appendChild(s),p(s,o,...t),de(()=>{var i;(i=s.parentElement)==null||i.removeChild(s)}),()=>r},Style:(e,t)=>{let{styleFn:n,style:o}=e,r=xe(e,zn);const s=ft(n||o||t),{className:i,dom:a}=Mn(s);let c;const l=pe(a,u=>{var h;l(),u.classList.add(i),(h=c)==null||h.classList.remove(i),c=u});return de(()=>{var u;l(),(u=c)==null||u.classList.remove(i)}),p(a,r),()=>a},GlobalStyle:(e,t)=>{let{styleFn:n,style:o}=e,r=xe(e,Pn);const s=ft(n||o||t),{dom:i}=Un(s);return p(i,r),()=>i}};const{hookEffect:Wn}=C,{ref:$n,unref:Bn}=R,{untrack:In}=X,Fn=(e,t)=>{const n=$n("");return Wn(()=>{const o=In(n);o&&URL.revokeObjectURL(o),n.value=URL.createObjectURL(new Blob([Bn(e)],{type:"text/plain",...t}))},{lazy:!1}),C.onUnmount(()=>URL.revokeObjectURL(n.value)),n},Hn="modulepreload",Dn=function(e,t){return new URL(e,t).href},dt={},Vn=function(t,n,o){if(!n||n.length===0)return t();const r=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=Dn(s,o),s in dt)return;dt[s]=!0;const i=s.endsWith(".css"),a=i?'[rel="stylesheet"]':"";if(!!o)for(let u=r.length-1;u>=0;u--){const h=r[u];if(h.href===s&&(!i||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const l=document.createElement("link");if(l.rel=i?"stylesheet":Hn,i||(l.as="script",l.crossOrigin=""),l.href=s,document.head.appendChild(l),i)return new Promise((u,h)=>{l.addEventListener("load",u),l.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t())},{hookEffect:Kn}=C,{unref:qn}=R,{untrack:pt}=X,Gn=()=>Vn(()=>import("https://unpkg.com/@monaco-editor/loader@1.3.3/lib/umd/monaco-loader.min.js"),[],import.meta.url).then(()=>window.monaco_loader.init()),Jn=({defaultValue:e,onChange:t,isDark:n,onSave:o,...r})=>{let s,i,a;return Kn(()=>{const c=qn(n);a!=null&&a.editor&&(c?a.editor.setTheme("vs-dark"):a.editor.setTheme("vs"))}),C.onUnmount(()=>s==null?void 0:s.dispose()),()=>p("div",{...r,ref:async c=>{a=await Gn(),a.languages.typescript.typescriptDefaults.setCompilerOptions({jsx:"react"}),a.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!1,noSyntaxValidation:!1}),s=a.editor.create(c,{value:pt(e),language:"typescript",automaticLayout:!0,wordWrap:!0,theme:pt(n)?"vs-dark":"vs"}),i=s.getModel(),i.onDidChangeContent(()=>t(i.getValue())),o&&s.addCommand(a.KeyMod.CtrlCmd|a.KeyCode.KeyS,()=>{o(i.getValue())})}})},{untrack:Xn}=X,Dt=({styleFn:e,isDark:t,...n},...o)=>()=>p("div",{...n},p(F.Style,{styleFn:()=>({display:"inline-flex",alignItems:"center",justifyContent:"center",paddingLeft:"12px",paddingRight:"12px",cursor:"pointer",userSelect:"none",marginLeft:"4px","&:hover":{backgroundColor:R.unref(t)?"rgba(64,64,64,1)":"rgba(64,64,64,0.1)"},"&:active":{outline:"solid 1px",outlineColor:R.unref(t)?"#fff":"rgba(64,64,64,1)"},...e==null?void 0:e()})}),o),Yn=({isDark:e})=>()=>p(Dt,{onClick:()=>{R.isRef(e)&&(e.value=!Xn(e))},isDark:e},p("span",null,()=>R.unref(e)?"ðŸŒ˜":"ðŸŒ–")),ht=({isDark:e,href:t,target:n="_blank"},...o)=>()=>p(Dt,{isDark:e,onClick:()=>{window.open(t,n)}},p("a",{href:t,target:n,style:"text-decoration: none; color: inherit;"},o)),Zn=({isDark:e})=>()=>p("div",null,p(F.Style,{styleFn:()=>({paddingLeft:"12px",paddingRight:"12px",height:"100%",width:"calc(100% - 24px)",display:"grid",gridTemplateColumns:"minmax(0, 1fr) 12px minmax(0, 1fr)"})}),p("div",{style:"display: inline-flex; align-items: center;"},p("span",{style:"user-select: none;"},"ðŸ§© rh.js"),p(Yn,{isDark:e})),p("div",null),p("div",{style:"display: inline-flex; align-items: center; justify-content: right;"},p(ht,{isDark:e,href:"https://zhzluke96.github.io/rhjs-demos/#demo",target:"_self"},"demos"),p(ht,{isDark:e,href:"https://github.com/zhzLuke96/rh.js"},"github"))),Qn=(e,t)=>`
  <!doctype html>
  <html${e?' class="dark"':""}>
    <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />

      <link href="https://unpkg.com/modern-normalize@1.1.0/modern-normalize.css" rel="stylesheet">
      <script async src="https://ga.jspm.io/npm:es-module-shims@1.7.0/dist/es-module-shims.js"><\/script>
      <style>
        html, body {
          position: relative;
          width: 100%;
          height: 100%;
        }

        body {
          color: #333;
          margin: 0;
          padding: 8px;
          box-sizing: border-box;
          font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
          max-width: 100%;
        }

        .dark body {
          color: #e5e7eb;
        }

        .dark {
          color-scheme: dark;
        }

        input, button, select, textarea {
          padding: 0.4em;
          margin: 0 0 0.5em 0;
          box-sizing: border-box;
          border: 1px solid #ccc;
          border-radius: 2px;
        }

        button {
          color: #333;
          background-color: #f4f4f4;
          outline: none;
        }

        button:disabled {
          color: #999;
        }

        button:not(:disabled):active {
          background-color: #ddd;
        }

        button:focus {
          border-color: #666;
        }
      </style>
      <script type="importmap">${t}<\/script>
      <script src="https://cdn.jsdelivr.net/npm/chobitsu"><\/script>
      <script type="module">
        window.addEventListener('message', async ({ data }) => {
          const { event, value } = data;

          if (event !== 'CODE_UPDATE') return;

          const past_appsrc = document.getElementById('appsrc');
          if (past_appsrc) {
            if (past_appsrc.src === value) return;
            else {
              past_appsrc.remove();
            }
          }

          window.dispose?.();
          window.dispose = undefined;

          document.getElementById('app').innerHTML = "";

          console.clear();

          const script = document.createElement('script');
          script.src = value;
          script.id = 'appsrc';
          script.type = 'module';
          document.body.appendChild(script);

          const load = document.getElementById('load');
          if (load) load.remove();
        });
        const sendToDevtools = (message) => {
          window.parent.postMessage(JSON.stringify(message), '*');
        };
        let id = 0;
        const sendToChobitsu = (message) => {
          message.id = 'tmp' + ++id;
          chobitsu.sendRawMessage(JSON.stringify(message));
        };
        chobitsu.setOnMessage((message) => {
          if (message.includes('"id":"tmp')) return;
          window.parent.postMessage(message, '*');
        });
        window.addEventListener('message', ({ data }) => {
          try {
            const { event, value } = data;
            if (event === 'DEV') {
              chobitsu.sendRawMessage(data.data);
            } else if (event === 'LOADED') {
              sendToDevtools({
                method: 'Page.frameNavigated',
                params: {
                  frame: {
                    id: '1',
                    mimeType: 'text/html',
                    securityOrigin: location.origin,
                    url: location.href,
                  },
                  type: 'Navigation',
                },
              });
              sendToChobitsu({ method: 'Network.enable' });
              sendToDevtools({ method: 'Runtime.executionContextsCleared' });
              sendToChobitsu({ method: 'Runtime.enable' });
              sendToChobitsu({ method: 'Debugger.enable' });
              sendToChobitsu({ method: 'DOMStorage.enable' });
              sendToChobitsu({ method: 'DOM.enable' });
              sendToChobitsu({ method: 'CSS.enable' });
              sendToChobitsu({ method: 'Overlay.enable' });
              sendToDevtools({ method: 'DOM.documentUpdated' });
            }
          } catch (e) {
            console.error(e);
          }
        });
      <\/script>
    </head>
    <body>
      <div id="load" style="display: flex; height: 80vh; align-items: center; justify-content: center;">
        <p style="font-size: 1.5rem">Loading the playground...</p>
      </div>
      <div id="app"></div>
      <script id="appsrc" type="module"><\/script>
    </body>
  </html>`,eo=()=>{const e=`
  <!DOCTYPE html>
  <html lang="en">
  <meta charset="utf-8">
  <title>DevTools</title>
  <style>
    @media (prefers-color-scheme: dark) {
      body {
        background-color: rgb(41 42 45);
      }
    }
  </style>
  <meta name="referrer" content="no-referrer">
  <script src="https://unpkg.com/@ungap/custom-elements/es.js"><\/script>
  <script type="module" src="https://cdn.jsdelivr.net/npm/chii@1.8.0/public/front_end/entrypoints/chii_app/chii_app.js"><\/script>
  <body class="undocked" id="-blink-dev-tools">`,t=URL.createObjectURL(new Blob([e],{type:"text/html"}));return C.onUnmount(()=>URL.revokeObjectURL(t)),`${t}#?embedded=${encodeURIComponent(location.origin)}`},{ref:W,unref:H}=R,{computed:to,untrack:L,depend:je}=X,{hookEffect:re}=C;function mt(e){let t=e;const n=(...o)=>queueMicrotask(()=>{t(...o),t=()=>{}});return(...o)=>{t=e,n(...o)}}const no=({importMap:e,code:t,devtools:n,isDark:o,...r})=>{const s=W(),i=W(),a=W(),c=W(!1),l=W(!1),u=W({dev_loaded:!1,code_injected:!1,dark_injected:!1}),h={code_update:mt(f=>{L(s).contentWindow.postMessage({event:"CODE_UPDATE",value:f},"*")}),dev_loaded:mt(()=>{})},v=W("");re(()=>{const f=Qn(L(o),JSON.stringify({imports:H(e)})),d=URL.createObjectURL(new Blob([f],{type:"text/html"}));L(v)&&URL.revokeObjectURL(L(v)),v.value=d,c.value=!1},{lazy:!1}),C.onUnmount(()=>URL.revokeObjectURL(L(v))),re(()=>{var Z;const[f,d,w]=je(o,c,s),{dev_loaded:E,code_injected:P,dark_injected:Y}=H(u);!d||!w||!Y||(Z=w.contentDocument)==null||Z.documentElement.classList.toggle("dark",f)},{lazy:!1}),re(()=>{const[f,d,w]=je(t,c,s),{dev_loaded:E,code_injected:P,dark_injected:Y}=H(u);!d||!w||!P||!E||h.code_update(f)},{lazy:!1}),re(()=>{const[f,d,w,E,P,Y]=je(t,o,c,l,s,i),{dev_loaded:Z,code_injected:Vt,dark_injected:Kt}=L(u);P&&(w&&(Kt||(P.contentDocument.documentElement.classList.toggle("dark",d),u.value={...L(u),dark_injected:!0}),Vt||(h.code_update(f),u.value={...L(u),code_injected:!0})),Y&&!Z&&E&&(h.dev_loaded(),u.value={...L(u),dev_loaded:!0}))},{lazy:!1});const y=eo(),_=f=>{const[d,w]=[s.value,i.value];!d||!w||(f.source===d.contentWindow?w.contentWindow.postMessage(f.data,"*"):f.source===w.contentWindow&&d.contentWindow.postMessage({event:"DEV",data:f.data},"*"))};window.addEventListener("message",_),C.onUnmount(()=>window.removeEventListener("message",_));const g=to(()=>`width: 100%; height: 100%; ${H(n)?"display: block;":"display: none;"}`);return()=>p("div",{...r,ref:a},p(F.Style,{styleFn:()=>({display:"grid",height:"100%",width:"100%",gridTemplateRows:H(n)?"minmax(0, 1fr) 12px minmax(0, 1fr)":"minmax(0, 1fr)"})}),p("iframe",{ref:s,src:v,style:"width: 100%;height: 100%;",frameBorder:0,onLoad:()=>{c.value=!0},sandbox:"allow-popups-to-escape-sandbox allow-scripts allow-popups allow-forms allow-pointer-lock allow-top-navigation allow-modals allow-same-origin"}),p("div",null,"TODO: resizer"),p("iframe",{ref:i,style:g,src:y,frameBorder:"0",onLoad:()=>{l.value=!0}}))},oo=({isDark:e})=>()=>p(F.GlobalStyle,{styleFn:()=>({fontFamily:"'Karla', system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji'",lineHeight:"1.5",fontWeight:"400",colorScheme:R.unref(e)?"light dark":"dark",color:R.unref(e)?"rgba(255, 255, 255, 0.87)":"#242424",backgroundColor:R.unref(e)?"#333":"#fff",fontSynthesis:"none",textRendering:"optimizeLegibility","-webkitFontSmoothing":"antialiased","-moz-osxFontSmoothing":"grayscale","-webkitTextSizeAdjust":"100%",html:{height:"100vh",width:"100vw"},body:{margin:"0",minWidth:"100vw",minHeight:"100vh",width:"100%",height:"100%"},"#app":{width:"100%",height:"100%"}})}),ro=`import { Button, ensureFluentUILoaded } from "@rhjs/fluent-web-components";
import { rh, reactivity } from "@rhjs/rh";
const { ref } = reactivity;

ensureFluentUILoaded()
  .then(() => console.log('FluentUI initialized.'));

const App = () => {
  const count = ref(1);
  return () => (
    <Button
      appearance="accent"
      onClick={() => {
        count.value += 1;
        console.log(count.value);
      }}
    >
      {count}
    </Button>
  );
};

rh.mount(document.querySelector("#app"), App);
`;function so(){return new Worker(""+new URL("complier.worker-3d71da04.js",import.meta.url).href)}class io{constructor(){Oe(this,"registry",{})}registerWorker(t,n){this.registry[t]?console.warn(`Worker of type ${t} already registered.`):this.registry[t]=n}removeWorker(t){delete this.registry[t]}getWorker(t){const n=this.registry[t];if(n)return n;throw new Error(`No worker of type ${t} registered.`)}postMessage(t,n){this.getWorker(t).postMessage(n)}listenRecv(t,n){const o=this.getWorker(t);let r;const s=i=>{const{message_token:a}=i.data||{};if(a!==n)return;const c={...i.data};delete c.message_token,r(c),o.removeEventListener("message",s)};return o.addEventListener("message",s),{recv:new Promise((i,a)=>{r=i}),dispose:()=>o.removeEventListener("message",s)}}}class co{constructor(){Oe(this,"registry",new io);this.initialize()}async initialize(){this.registry.registerWorker("complier",new so)}worker_caller(t,n){const o=Math.random().toString(36).slice(2),r={...n,message_token:o};return this.registry.postMessage(t,r),this.registry.listenRecv(t,o)}compileFile(t){return this.worker_caller("complier",{event:"BABEL",payload:{file:t,compile_options:{}}})}compileFiles(t){return this.worker_caller("complier",{event:"ROLLUP",payload:{files:t,compile_options:{}}})}}const vt=new co,{ref:Ee}=R,{untrack:ao}=X,lo="latest",uo={"@rhjs/rh":`https://unpkg.com/@rhjs/rh@${lo}/dist/main.module.mjs`,"@rhjs/fluent-web-components":"https://unpkg.com/@rhjs/fluent-web-components@latest/dist/main.module.mjs"},fo=()=>{let e=null;return C.onUnmount(()=>e==null?void 0:e.dispose()),{compileFile(t){return e==null||e.dispose(),e=vt.compileFile(t),e.recv},compileFiles(t){return e==null||e.dispose(),e=vt.compileFiles(t),e.recv}}},po=()=>{const e=Ee(""),t=Fn(e,{type:"text/javascript"}),n=Ee(!0),o=Ee(ro),r=fo(),s=async()=>{const i=await r.compileFile({filename:"main.tsx",source:ao(o)});console.log(i),e.value=i.compiled};return C.onMount(()=>s()),()=>p("div",null,p(oo,{isDark:n}),p(F.Style,{styleFn:()=>({position:"relative",display:"flex",flexFlow:"column",width:"100%",height:"100%",maxWidth:"100vw",maxHeight:"100vh",overflow:"hidden"})}),p("header",{style:"height: 30px; width: 100%;"},p(Zn,{isDark:n})),p("div",{style:"flex: 1;"},p(F.Style,{styleFn:()=>({position:"relative",display:"flex",flexFlow:"row",width:"100%",height:"100%"})}),p(Jn,{style:"flex: 1;",defaultValue:o,onChange:i=>o.value=i,onSave:s,isDark:n}),p(no,{style:"flex: 1;",importMap:uo,code:t,devtools:!0,isDark:n})))};p.mount("#app",po);
